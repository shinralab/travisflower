<!DOCTYPE html>
<html>
<head>
    <title>"QwenErated - AI Art App Preview"</title>
    <style>
        body { 
            margin: 0; 
            background: #000; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            min-height: 100vh;
            font-family: monospace;
            color: white;
        }
        canvas { 
            border: 2px solid #333; 
            margin: 20px; 
            cursor: pointer;
        }
        button { 
            padding: 12px 24px; 
            background: #4a00e0; 
            color: white; 
            border: none; 
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
        }
        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }
    </style>
</head>
<body>
    <h1>QwenErator</h1>
    <canvas id="art" width="600" height="600"></canvas>
    <div class="controls">
        <button onclick="generateArt()">Qwenerate New Art</button>
        <button onclick="downloadArt()">Download</button>
    </div>
    
    <script>
        const canvas = document.getElementById('art');
        const ctx = canvas.getContext('2d');
        
        function generateArt() {
            // Clear canvas
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, 600, 600);
            
            const mode = Math.floor(Math.random() * 4);
            
            if (mode === 0) {
                // Geometric Patterns
                geometricPattern();
            } else if (mode === 1) {
                // Flow Fields
                flowField();
            } else if (mode === 2) {
                // Circle Packing
                circlePacking();
            } else {
                // Fractal Trees
                fractalTrees();
            }
        }
        
        function geometricPattern() {
            const shapes = Math.floor(Math.random() * 50) + 30;
            for (let i = 0; i < shapes; i++) {
                const x = Math.random() * 600;
                const y = Math.random() * 600;
                const size = Math.random() * 100 + 10;
                const sides = Math.floor(Math.random() * 8) + 3;
                
                ctx.beginPath();
                ctx.moveTo(x + size * Math.cos(0), y + size * Math.sin(0));
                for (let j = 1; j <= sides; j++) {
                    ctx.lineTo(
                        x + size * Math.cos((j * 2 * Math.PI) / sides),
                        y + size * Math.sin((j * 2 * Math.PI) / sides)
                    );
                }
                ctx.closePath();
                
                const hue = Math.floor(Math.random() * 360);
                ctx.fillStyle = `hsla(${hue}, 80%, 60%, ${Math.random() * 0.7 + 0.3})`;
                ctx.fill();
            }
        }
        
        function flowField() {
            const scale = 20;
            const cols = Math.floor(600 / scale);
            const rows = Math.floor(600 / scale);
            
            // Create flow field
            const field = [];
            for (let i = 0; i < cols * rows; i++) {
                field[i] = Math.random() * Math.PI * 2;
            }
            
            // Draw particles following flow field
            ctx.strokeStyle = '#fff';
            ctx.lineWidth = 1;
            
            for (let i = 0; i < 500; i++) {
                let x = Math.random() * 600;
                let y = Math.random() * 600;
                
                ctx.beginPath();
                ctx.moveTo(x, y);
                
                for (let j = 0; j < 50; j++) {
                    const col = Math.floor(x / scale);
                    const row = Math.floor(y / scale);
                    const index = col + row * cols;
                    
                    if (index >= 0 && index < field.length) {
                        const angle = field[index];
                        x += Math.cos(angle) * 2;
                        y += Math.sin(angle) * 2;
                        
                        if (x > 0 && x < 600 && y > 0 && y < 600) {
                            ctx.lineTo(x, y);
                        }
                    }
                }
                ctx.stroke();
            }
        }
        
        function circlePacking() {
            const circles = [];
            const attempts = 5000;
            
            for (let i = 0; i < attempts; i++) {
                let newCircle = {
                    x: Math.random() * 600,
                    y: Math.random() * 600,
                    r: Math.random() * 15 + 2
                };
                
                let valid = true;
                for (let j = 0; j < circles.length; j++) {
                    const dx = newCircle.x - circles[j].x;
                    const dy = newCircle.y - circles[j].y;
                    const dist = Math.sqrt(dx * dx + dy * dy);
                    
                    if (dist < newCircle.r + circles[j].r) {
                        valid = false;
                        break;
                    }
                }
                
                if (valid) {
                    circles.push(newCircle);
                }
            }
            
            circles.forEach(circle => {
                ctx.beginPath();
                ctx.arc(circle.x, circle.y, circle.r, 0, Math.PI * 2);
                const hue = Math.floor(Math.random() * 360);
                ctx.fillStyle = `hsla(${hue}, 80%, 60%, 0.7)`;
                ctx.fill();
            });
        }
        
        function fractalTrees() {
            function drawTree(x, y, angle, depth, length) {
                if (depth === 0) return;
                
                const endX = x + Math.cos(angle) * length;
                const endY = y + Math.sin(angle) * length;
                
                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.lineTo(endX, endY);
                ctx.strokeStyle = `hsl(${100 + depth * 20}, 80%, 50%)`;
                ctx.lineWidth = depth * 0.5;
                ctx.stroke();
                
                drawTree(endX, endY, angle - 0.5, depth - 1, length * 0.7);
                drawTree(endX, endY, angle + 0.3, depth - 1, length * 0.7);
                drawTree(endX, endY, angle + 0.1, depth - 1, length * 0.7);
            }
            
            drawTree(300, 550, -Math.PI/2, 8, 80);
        }
        
        function downloadArt() {
            const link = document.createElement('a');
            link.download = 'procedural-art.png';
            link.href = canvas.toDataURL();
            link.click();
        }
        
        // Generate first piece
        generateArt();
        
        // Click canvas to regenerate
        canvas.addEventListener('click', generateArt);
    </script>
</body>
</html>
